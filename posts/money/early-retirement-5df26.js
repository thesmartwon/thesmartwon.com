!function(){"use strict";var e,t,s,a,n,l={},i=[],r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function o(e,t){for(var s in t)e[s]=t[s];return e}function c(e){var t=e.parentNode;t&&t.removeChild(e)}function u(e,t,s){var a,n=arguments,l={};for(a in t)"key"!==a&&"ref"!==a&&(l[a]=t[a]);if(arguments.length>3)for(s=[s],a=3;a<arguments.length;a++)s.push(n[a]);if(null!=s&&(l.children=s),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===l[a]&&(l[a]=e.defaultProps[a]);return h(e,l,t&&t.key,t&&t.ref)}function h(t,s,a,n){var l={type:t,props:s,key:a,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return e.vnode&&e.vnode(l),l}function p(e){return e.children}function _(e,t){this.props=e,this.context=t}function m(e,t){if(null==t)return e.__?m(e.__,e.__.__k.indexOf(e)+1):null;for(var s;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e)return s.__e;return"function"==typeof e.type?m(e):null}function d(e){var t,s;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e){e.__e=e.__c.base=s.__e;break}return d(e)}}function f(n){(!n.__d&&(n.__d=!0)&&1===t.push(n)||a!==e.debounceRendering)&&((a=e.debounceRendering)||s)(v)}function v(){var e,s,a,n,l,i,r;for(t.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=t.pop();)e.__d&&(a=void 0,n=void 0,i=(l=(s=e).__v).__e,(r=s.__P)&&(a=[],n=w(r,l,o({},l),s.__n,void 0!==r.ownerSVGElement,null,a,null==i?m(l):i),S(a,l),n!=i&&d(l)))}function b(e,t,s,a,n,r,o,u,h){var p,_,d,f,v,b,g,N=s&&s.__k||i,k=N.length;if(u==l&&(u=null!=r?r[0]:k?m(s,0):null),p=0,t.__k=y(t.__k,(function(s){if(null!=s){if(s.__=t,s.__b=t.__b+1,null===(d=N[p])||d&&s.key==d.key&&s.type===d.type)N[p]=void 0;else for(_=0;_<k;_++){if((d=N[_])&&s.key==d.key&&s.type===d.type){N[_]=void 0;break}d=null}if(f=w(e,s,d=d||l,a,n,r,o,u,h),(_=s.ref)&&d.ref!=_&&(g||(g=[]),d.ref&&g.push(d.ref,null,s),g.push(_,s.__c||f,s)),null!=f){var i;if(null==b&&(b=f),void 0!==s.__d)i=s.__d,s.__d=void 0;else if(r==d||f!=u||null==f.parentNode){e:if(null==u||u.parentNode!==e)e.appendChild(f),i=null;else{for(v=u,_=0;(v=v.nextSibling)&&_<k;_+=2)if(v==f)break e;e.insertBefore(f,u),i=u}"option"==t.type&&(e.value="")}u=void 0!==i?i:f.nextSibling,"function"==typeof t.type&&(t.__d=u)}}return p++,s})),t.__e=b,null!=r&&"function"!=typeof t.type)for(p=r.length;p--;)null!=r[p]&&c(r[p]);for(p=k;p--;)null!=N[p]&&D(N[p],N[p]);if(g)for(p=0;p<g.length;p++)x(g[p],g[++p],g[++p])}function y(e,t,s){if(null==s&&(s=[]),null==e||"boolean"==typeof e)t&&s.push(t(null));else if(Array.isArray(e))for(var a=0;a<e.length;a++)y(e[a],t,s);else s.push(t?t("string"==typeof e||"number"==typeof e?h(null,e,null,null):null!=e.__e||null!=e.__c?h(e.type,e.props,e.key,null):e):e);return s}function g(e,t,s){"-"===t[0]?e.setProperty(t,s):e[t]="number"==typeof s&&!1===r.test(t)?s+"px":null==s?"":s}function N(e,t,s,a,n){var l,i,r,o,c;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(l=e.style,"string"==typeof s)l.cssText=s;else{if("string"==typeof a&&(l.cssText="",a=null),a)for(i in a)s&&i in s||g(l,i,"");if(s)for(r in s)a&&s[r]===a[r]||g(l,r,s[r])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),s?(a||e.addEventListener(t,k,o),(e.l||(e.l={}))[t]=s):e.removeEventListener(t,k,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==s?"":s:"function"!=typeof s&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==s||!1===s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),s):null==s||!1===s&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,s))}function k(t){this.l[t.type](e.event?e.event(t):t)}function w(t,s,a,n,l,i,r,c,u){var h,m,d,f,v,y,g,N,k,w,S=s.type;if(void 0!==s.constructor)return null;(h=e.__b)&&h(s);try{e:if("function"==typeof S){if(N=s.props,k=(h=S.contextType)&&n[h.__c],w=h?k?k.props.value:h.__:n,a.__c?g=(m=s.__c=a.__c).__=m.__E:("prototype"in S&&S.prototype.render?s.__c=m=new S(N,w):(s.__c=m=new _(N,w),m.constructor=S,m.render=E),k&&k.sub(m),m.props=N,m.state||(m.state={}),m.context=w,m.__n=n,d=m.__d=!0,m.__h=[]),null==m.__s&&(m.__s=m.state),null!=S.getDerivedStateFromProps&&(m.__s==m.state&&(m.__s=o({},m.__s)),o(m.__s,S.getDerivedStateFromProps(N,m.__s))),f=m.props,v=m.state,d)null==S.getDerivedStateFromProps&&null!=m.componentWillMount&&m.componentWillMount(),null!=m.componentDidMount&&m.__h.push(m.componentDidMount);else{if(null==S.getDerivedStateFromProps&&N!==f&&null!=m.componentWillReceiveProps&&m.componentWillReceiveProps(N,w),!m.__e&&null!=m.shouldComponentUpdate&&!1===m.shouldComponentUpdate(N,m.__s,w)){for(m.props=N,m.state=m.__s,m.__d=!1,m.__v=s,s.__e=a.__e,s.__k=a.__k,m.__h.length&&r.push(m),h=0;h<s.__k.length;h++)s.__k[h]&&(s.__k[h].__=s);break e}null!=m.componentWillUpdate&&m.componentWillUpdate(N,m.__s,w),null!=m.componentDidUpdate&&m.__h.push((function(){m.componentDidUpdate(f,v,y)}))}m.context=w,m.props=N,m.state=m.__s,(h=e.__r)&&h(s),m.__d=!1,m.__v=s,m.__P=t,h=m.render(m.props,m.state,m.context),s.__k=null!=h&&h.type==p&&null==h.key?h.props.children:h,null!=m.getChildContext&&(n=o(o({},n),m.getChildContext())),d||null==m.getSnapshotBeforeUpdate||(y=m.getSnapshotBeforeUpdate(f,v)),b(t,s,a,n,l,i,r,c,u),m.base=s.__e,m.__h.length&&r.push(m),g&&(m.__E=m.__=null),m.__e=!1}else s.__e=C(a.__e,s,a,n,l,i,r,u);(h=e.diffed)&&h(s)}catch(t){e.__e(t,s,a)}return s.__e}function S(t,s){e.__c&&e.__c(s,t),t.some((function(s){try{t=s.__h,s.__h=[],t.some((function(e){e.call(s)}))}catch(t){e.__e(t,s.__v)}}))}function C(e,t,s,a,n,r,o,c){var u,h,p,_,m,d=s.props,f=t.props;if(n="svg"===t.type||n,null==e&&null!=r)for(u=0;u<r.length;u++)if(null!=(h=r[u])&&(null===t.type?3===h.nodeType:h.localName===t.type)){e=h,r[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(f);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,f.is&&{is:f.is}),r=null}if(null===t.type)null!=r&&(r[r.indexOf(e)]=null),d!==f&&e.data!=f&&(e.data=f);else if(t!==s){if(null!=r&&(r[r.indexOf(e)]=null,r=i.slice.call(e.childNodes)),p=(d=s.props||l).dangerouslySetInnerHTML,_=f.dangerouslySetInnerHTML,!c){if(d===l)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(_||p)&&(_&&p&&_.__html==p.__html||(e.innerHTML=_&&_.__html||""))}(function(e,t,s,a,n){var l;for(l in s)l in t||N(e,l,null,s[l],a);for(l in t)n&&"function"!=typeof t[l]||"value"===l||"checked"===l||s[l]===t[l]||N(e,l,t[l],s[l],a)})(e,f,d,n,c),t.__k=t.props.children,_||b(e,t,s,a,"foreignObject"!==t.type&&n,r,o,l,c),c||("value"in f&&void 0!==f.value&&f.value!==e.value&&(e.value=null==f.value?"":f.value),"checked"in f&&void 0!==f.checked&&f.checked!==e.checked&&(e.checked=f.checked))}return e}function x(t,s,a){try{"function"==typeof t?t(s):t.current=s}catch(t){e.__e(t,a)}}function D(t,s,a){var n,l,i;if(e.unmount&&e.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||x(n,null,s)),a||"function"==typeof t.type||(a=null!=(l=t.__e)),t.__e=t.__d=void 0,null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){e.__e(t,s)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&D(n[i],s,a);null!=l&&c(l)}function E(e,t,s){return this.constructor(e,s)}function T(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e={__e:function(e,t){for(var s,a;t=t.__;)if((s=t.__c)&&!s.__)try{if(s.constructor&&null!=s.constructor.getDerivedStateFromError&&(a=!0,s.setState(s.constructor.getDerivedStateFromError(e))),null!=s.componentDidCatch&&(a=!0,s.componentDidCatch(e)),a)return f(s.__E=s)}catch(t){e=t}throw e}},_.prototype.setState=function(e,t){var s;s=this.__s!==this.state?this.__s:this.__s=o({},this.state),"function"==typeof e&&(e=e(s,this.props)),e&&o(s,e),null!=e&&this.__v&&(t&&this.__h.push(t),f(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),f(this))},_.prototype.render=p,t=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,n=l;var A=({href:e,className:t,children:s})=>u("a",{href:e,className:t},s);const B=(e,t)=>e>t?t:e,P=(e,t)=>e>t?e:t,I=[.1,.12,.22,.24,.32,.25,.37],G={single:[0,9700,39475,84200,160725,204100,510300],married:[0,19400,78950,168400,321450,408200,612350],head:[0,13850,52850,84200,160700,204100,510300]},W={single:12200,married:24400,head:18350},R=(e,t,s)=>{let a=0,n=e-W[t]-s.k401-s.hsa;const l=G[t];for(let e=1;e<l.length;e++){const t=B(n,l[e]-l[e-1]);n-=t,a+=t*I[e]}return a+.352*n},O=(e,t)=>.05499*(e-8750-t.hsa-t.k401),U=e=>Object.values(e).reduce((e,t)=>e+t);const H=document.getElementById("retirementCalc");!function(t,s,a){var r,o,c;e.__&&e.__(t,s),o=(r=a===n)?null:a&&a.__k||s.__k,t=u(p,null,[t]),c=[],w(s,(r?s:a||s).__k=t,o||l,l,void 0!==s.ownerSVGElement,a&&!r?[a]:o?null:i.slice.call(s.childNodes),c,a||l,r),S(c,t)}(u(class extends _{constructor(e){super(e),T(this,"setDesired",(e,t)=>{this.state.desiredContributions[e]=Number(t),this.setState({desiredContributions:this.state.desiredContributions})}),T(this,"setBalance",(e,t)=>{this.state.initialBalances[e]=Number(t),this.setState({initialBalances:this.state.initialBalances})}),T(this,"format",e=>Math.round(e/100)/10+"k"),this.state={income:7e4,status:"single",expenses:24e3,desiredContributions:{hsa:3500,ira:6e3,k401:19e3},k401match:3,initialBalances:{hsa:0,ira:0,k401:0,afterTax:0},raise:2,safeWithdrawal:3.5,effectiveGrowth:7,showGains:!1,showContributions:!1,tabShown:1}}render(){const e=((e,t,s,a,n,l,i,r,o)=>{let c=[],u=Object.assign({},o),h=U(u);for(let o=(new Date).getFullYear();h*s<i;o++){const s=R(e,l,r)+O(e,r),p=e-s-i,_={hsa:P(B(p,r.hsa),0),k401:P(B(p-r.hsa,r.k401)+e*n,0),ira:P(B(p-r.hsa-r.k401,r.ira),0),afterTax:P(p-r.hsa-r.k401-r.ira,0)},m={};Object.keys(u).forEach(e=>{m[e]=u[e]*a,u[e]+=m[e]}),Object.keys(_).forEach(e=>u[e]+=_[e]),h=U(u),c.push({year:o,income:e,tax:s,accounts:Object.assign({},u),growth:m,contributions:_,total:h}),e*=1+t}return c})(this.state.income>1e4?this.state.income:1e4,this.state.raise/100,this.state.safeWithdrawal/100,this.state.effectiveGrowth/100,this.state.k401match/100,this.state.status,this.state.expenses,this.state.desiredContributions,this.state.initialBalances),t=e[e.length-1].total;let s=0;e.forEach(e=>s+=Object.values(e.contributions).reduce((e,t)=>e+t));return u("div",{id:"retirementCalc"},u("div",{className:"tabs is-centered is-boxed"},u("ul",null,[{num:1,caption:"Taxes"},{num:2,caption:"Desired contributions"},{num:3,caption:"Initial balances"},{num:4,caption:"Assumptions"}].map(e=>u("li",{key:e.num,className:this.state.tabShown===e.num?"is-active":""},u("a",{onClick:()=>this.setState({tabShown:e.num})},e.caption))))),1===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"Income"),u("div",{className:"control"},u("input",{className:"input is-success",type:"number",step:"1000",value:this.state.income,onChange:e=>this.setState({income:Number(e.target.value)})})),u("p",{className:"help"},"Your salary")),u("div",{className:"field"},u("label",{className:"label"},"Expenses"),u("div",{className:"control"},u("input",{className:"input is-danger",type:"number",step:"100",value:this.state.expenses,onChange:e=>this.setState({expenses:Number(e.target.value)})})),u("p",{className:"help"},"This is the most important variable")),u("div",{className:"field"},u("label",{className:"label"},"Status"),u("div",{className:"control select is-warning"},u("select",{onChange:e=>this.setState({status:e.target.value}),value:this.state.status},Object.keys(G).map(e=>u("option",{value:e,key:e},e)))),u("p",{className:"help"},"Your federal tax status"))),2===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"HSA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.desiredContributions.hsa,onChange:e=>this.setDesired("hsa",e.target.value)})),u("p",{className:"help"},"Desired HSA contribution")),u("div",{className:"field is-grouped"},u("div",{className:"field"},u("label",{className:"label"},"401k"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.desiredContributions.k401,onChange:e=>this.setDesired("k401",e.target.value)})),u("p",{className:"help"},"Desired 401k contribution")),u("div",{className:"field"},u("label",{className:"label"},"401k Match"),u("div",{className:"control has-icons-right",style:{width:"7rem"}},u("input",{className:"input is-primary",type:"number",step:"1",value:this.state.k401match,onChange:e=>this.setState({k401match:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},"Employer's match"))),u("div",{className:"field"},u("label",{className:"label"},"IRA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.desiredContributions.ira,onChange:e=>this.setDesired("ira",e.target.value)})),u("p",{className:"help"},"Desired IRA contribution"))),3===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"HSA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.hsa,onChange:e=>this.setBalance("hsa",e.target.value)})),u("p",{className:"help"},"Initial HSA balance")),u("div",{className:"field"},u("label",{className:"label"},"401k"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.k401,onChange:e=>this.setBalance("k401",e.target.value)})),u("p",{className:"help"},"Initial 401k balance")),u("div",{className:"field"},u("label",{className:"label"},"IRA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.ira,onChange:e=>this.setBalance("ira",e.target.value)})),u("p",{className:"help"},"Initial IRA balance")),u("div",{className:"field"},u("label",{className:"label"},"After tax"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.afterTax,onChange:e=>this.setBalance("afterTax",e.target.value)})),u("p",{className:"help"},"Initial after tax accounts balance"))),4===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"Safe Withdrawal Rate"),u("div",{className:"control has-icons-right"},u("input",{className:"input is-primary",type:"number",step:"0.25",value:this.state.safeWithdrawal,onChange:e=>this.setState({safeWithdrawal:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},u(A,{href:"https://www.madfientist.com/safe-withdrawal-rate/"},"Nest Egg * Safe Withdrawal > Expenses"))),u("div",{className:"field"},u("label",{className:"label"},"Effective Growth Rate"),u("div",{className:"control has-icons-right"},u("input",{className:"input is-primary",type:"number",step:"0.5",value:this.state.effectiveGrowth,onChange:e=>this.setState({effectiveGrowth:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},u(A,{href:"https://www.investopedia.com/ask/answers/042415/what-average-annual-return-sp-500.asp"},"Average ","S&P"," 500 Growth")," -",u(A,{href:"https://tradingeconomics.com/united-states/inflation-cpi"}," Inflation"))),u("div",{className:"field"},u("label",{className:"label"},"Raise Rate"),u("div",{className:"control has-icons-right"},u("input",{className:"input is-primary",type:"number",step:"0.5",value:this.state.raise,onChange:e=>this.setState({raise:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},"How fast you progress in your career"))),u("hr",null),u("table",{className:"table is-narrow is-fullwidth is-striped"},u("thead",null,u("tr",null,u("th",null,"Year"),u("th",null,"Income"),u("th",null,"Tax"),u("th",null,"HSA"),u("th",null,"401k"),u("th",null,"IRA"),u("th",null,"After Tax"),u("th",null,"Nest Egg"))),u("tbody",null,e.map(e=>u("tr",{key:e.year},u("td",null,e.year),u("td",null,this.format(e.income)),u("td",null,this.format(e.tax)),u("td",null,this.format(e.accounts.hsa),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.hsa)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.hsa))),u("td",null,this.format(e.accounts.k401),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.k401)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.k401))),u("td",null,this.format(e.accounts.ira),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.ira)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.ira))),u("td",null,this.format(e.accounts.afterTax),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.afterTax)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.afterTax))),u("td",null,this.format(e.total)))))),u("div",{className:"field is-horizontal"},u("div",{className:"control"},u("label",{className:"checkbox"},u("input",{type:"checkbox",checked:this.state.showGains,onChange:e=>this.setState({showGains:e.target.checked})}),"Show gains")),u("div",{className:"control",style:{marginLeft:"1rem"}},u("label",{className:"checkbox"},u("input",{type:"checkbox",checked:this.state.showContributions,onChange:e=>this.setState({showContributions:e.target.checked})}),"Show contributions"))),u("p",null,u("b",null,e.length)," years to retirement / ",u("b",null,this.format(t*this.state.safeWithdrawal/100))," withdrawable per year / ",u("b",null,this.format(s))," total contributions"))}}),H,H)}();