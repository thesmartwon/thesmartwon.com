!function(){"use strict";var e,t,s,a,n,l={},i=[],r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function o(e,t){for(var s in t)e[s]=t[s];return e}function c(e){var t=e.parentNode;t&&t.removeChild(e)}function u(e,t,s){var a,n=arguments,l={};for(a in t)"key"!==a&&"ref"!==a&&(l[a]=t[a]);if(arguments.length>3)for(s=[s],a=3;a<arguments.length;a++)s.push(n[a]);if(null!=s&&(l.children=s),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===l[a]&&(l[a]=e.defaultProps[a]);return h(e,l,t&&t.key,t&&t.ref,null)}function h(t,s,a,n,l){var i={type:t,props:s,key:a,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:l};return null==l&&(i.__v=i),e.vnode&&e.vnode(i),i}function _(e){return e.children}function p(e,t){this.props=e,this.context=t}function m(e,t){if(null==t)return e.__?m(e.__,e.__.__k.indexOf(e)+1):null;for(var s;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e)return s.__e;return"function"==typeof e.type?m(e):null}function d(e){var t,s;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e){e.__e=e.__c.base=s.__e;break}return d(e)}}function f(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!v.__r++||a!==e.debounceRendering)&&((a=e.debounceRendering)||s)(v)}function v(){for(var e;v.__r=t.length;)e=t.sort((function(e,t){return e.__v.__b-t.__v.__b})),t=[],e.some((function(e){var t,s,a,n,l,i,r;e.__d&&(i=(l=(t=e).__v).__e,(r=t.__P)&&(s=[],(a=o({},l)).__v=a,n=S(r,l,a,t.__n,void 0!==r.ownerSVGElement,null,s,null==i?m(l):i),C(s,l),n!=i&&d(l)))}))}function b(e,t,s,a,n,r,o,u,p,d){var f,v,b,g,N,k,w,C=a&&a.__k||i,x=C.length;for(p==l&&(p=null!=o?o[0]:x?m(a,0):null),s.__k=[],f=0;f<t.length;f++)if(null!=(g=s.__k[f]=null==(g=t[f])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?h(null,g,null,null,g):Array.isArray(g)?h(_,{children:g},null,null,null):null!=g.__e||null!=g.__c?h(g.type,g.props,g.key,null,g.__v):g)){if(g.__=s,g.__b=s.__b+1,null===(b=C[f])||b&&g.key==b.key&&g.type===b.type)C[f]=void 0;else for(v=0;v<x;v++){if((b=C[v])&&g.key==b.key&&g.type===b.type){C[v]=void 0;break}b=null}N=S(e,g,b=b||l,n,r,o,u,p,d),(v=g.ref)&&b.ref!=v&&(w||(w=[]),b.ref&&w.push(b.ref,null,g),w.push(v,g.__c||N,g)),null!=N?(null==k&&(k=N),p=y(e,g,b,C,o,N,p),"option"==s.type?e.value="":"function"==typeof s.type&&(s.__d=p)):p&&b.__e==p&&p.parentNode!=e&&(p=m(b))}if(s.__e=k,null!=o&&"function"!=typeof s.type)for(f=o.length;f--;)null!=o[f]&&c(o[f]);for(f=x;f--;)null!=C[f]&&E(C[f],C[f]);if(w)for(f=0;f<w.length;f++)A(w[f],w[++f],w[++f])}function y(e,t,s,a,n,l,i){var r,o,c;if(void 0!==t.__d)r=t.__d,t.__d=void 0;else if(n==s||l!=i||null==l.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(l),r=null;else{for(o=i,c=0;(o=o.nextSibling)&&c<a.length;c+=2)if(o==l)break e;e.insertBefore(l,i),r=i}return void 0!==r?r:l.nextSibling}function g(e,t,s){"-"===t[0]?e.setProperty(t,s):e[t]="number"==typeof s&&!1===r.test(t)?s+"px":null==s?"":s}function N(e,t,s,a,n){var l,i,r,o,c;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(l=e.style,"string"==typeof s)l.cssText=s;else{if("string"==typeof a&&(l.cssText="",a=null),a)for(o in a)s&&o in s||g(l,o,"");if(s)for(c in s)a&&s[c]===a[c]||g(l,c,s[c])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),r=t.toLowerCase(),t=(r in e?r:t).slice(2),s?(a||e.addEventListener(t,k,i),(e.l||(e.l={}))[t]=s):e.removeEventListener(t,k,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==s?"":s:"function"!=typeof s&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==s||!1===s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),s):null==s||!1===s&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,s))}function k(t){this.l[t.type](e.event?e.event(t):t)}function w(e,t,s){var a,n;for(a=0;a<e.__k.length;a++)(n=e.__k[a])&&(n.__=e,n.__e&&("function"==typeof n.type&&n.__k.length>1&&w(n,t,s),t=y(s,n,n,e.__k,null,n.__e,t),"function"==typeof e.type&&(e.__d=t)))}function S(t,s,a,n,l,i,r,c,u){var h,m,d,f,v,y,g,N,k,S,C,A=s.type;if(void 0!==s.constructor)return null;(h=e.__b)&&h(s);try{e:if("function"==typeof A){if(N=s.props,k=(h=A.contextType)&&n[h.__c],S=h?k?k.props.value:h.__:n,a.__c?g=(m=s.__c=a.__c).__=m.__E:("prototype"in A&&A.prototype.render?s.__c=m=new A(N,S):(s.__c=m=new p(N,S),m.constructor=A,m.render=D),k&&k.sub(m),m.props=N,m.state||(m.state={}),m.context=S,m.__n=n,d=m.__d=!0,m.__h=[]),null==m.__s&&(m.__s=m.state),null!=A.getDerivedStateFromProps&&(m.__s==m.state&&(m.__s=o({},m.__s)),o(m.__s,A.getDerivedStateFromProps(N,m.__s))),f=m.props,v=m.state,d)null==A.getDerivedStateFromProps&&null!=m.componentWillMount&&m.componentWillMount(),null!=m.componentDidMount&&m.__h.push(m.componentDidMount);else{if(null==A.getDerivedStateFromProps&&N!==f&&null!=m.componentWillReceiveProps&&m.componentWillReceiveProps(N,S),!m.__e&&null!=m.shouldComponentUpdate&&!1===m.shouldComponentUpdate(N,m.__s,S)||s.__v===a.__v){m.props=N,m.state=m.__s,s.__v!==a.__v&&(m.__d=!1),m.__v=s,s.__e=a.__e,s.__k=a.__k,m.__h.length&&r.push(m),w(s,c,t);break e}null!=m.componentWillUpdate&&m.componentWillUpdate(N,m.__s,S),null!=m.componentDidUpdate&&m.__h.push((function(){m.componentDidUpdate(f,v,y)}))}m.context=S,m.props=N,m.state=m.__s,(h=e.__r)&&h(s),m.__d=!1,m.__v=s,m.__P=t,h=m.render(m.props,m.state,m.context),m.state=m.__s,null!=m.getChildContext&&(n=o(o({},n),m.getChildContext())),d||null==m.getSnapshotBeforeUpdate||(y=m.getSnapshotBeforeUpdate(f,v)),C=null!=h&&h.type==_&&null==h.key?h.props.children:h,b(t,Array.isArray(C)?C:[C],s,a,n,l,i,r,c,u),m.base=s.__e,m.__h.length&&r.push(m),g&&(m.__E=m.__=null),m.__e=!1}else null==i&&s.__v===a.__v?(s.__k=a.__k,s.__e=a.__e):s.__e=x(a.__e,s,a,n,l,i,r,u);(h=e.diffed)&&h(s)}catch(t){s.__v=null,e.__e(t,s,a)}return s.__e}function C(t,s){e.__c&&e.__c(s,t),t.some((function(s){try{t=s.__h,s.__h=[],t.some((function(e){e.call(s)}))}catch(t){e.__e(t,s.__v)}}))}function x(e,t,s,a,n,r,o,c){var u,h,_,p,m,d=s.props,f=t.props;if(n="svg"===t.type||n,null!=r)for(u=0;u<r.length;u++)if(null!=(h=r[u])&&((null===t.type?3===h.nodeType:h.localName===t.type)||e==h)){e=h,r[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(f);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,f.is&&{is:f.is}),r=null,c=!1}if(null===t.type)d!==f&&e.data!=f&&(e.data=f);else{if(null!=r&&(r=i.slice.call(e.childNodes)),_=(d=s.props||l).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!c){if(null!=r)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(p||_)&&(p&&_&&p.__html==_.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,s,a,n){var l;for(l in s)"children"===l||"key"===l||l in t||N(e,l,null,s[l],a);for(l in t)n&&"function"!=typeof t[l]||"children"===l||"key"===l||"value"===l||"checked"===l||s[l]===t[l]||N(e,l,t[l],s[l],a)})(e,f,d,n,c),p?t.__k=[]:(u=t.props.children,b(e,Array.isArray(u)?u:[u],t,s,a,"foreignObject"!==t.type&&n,r,o,l,c)),c||("value"in f&&void 0!==(u=f.value)&&u!==e.value&&N(e,"value",u,d.value,!1),"checked"in f&&void 0!==(u=f.checked)&&u!==e.checked&&N(e,"checked",u,d.checked,!1))}return e}function A(t,s,a){try{"function"==typeof t?t(s):t.current=s}catch(t){e.__e(t,a)}}function E(t,s,a){var n,l,i;if(e.unmount&&e.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||A(n,null,s)),a||"function"==typeof t.type||(a=null!=(l=t.__e)),t.__e=t.__d=void 0,null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){e.__e(t,s)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&E(n[i],s,a);null!=l&&c(l)}function D(e,t,s){return this.constructor(e,s)}function T(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e={__e:function(e,t){for(var s,a;t=t.__;)if((s=t.__c)&&!s.__)try{if(s.constructor&&null!=s.constructor.getDerivedStateFromError&&(a=!0,s.setState(s.constructor.getDerivedStateFromError(e))),null!=s.componentDidCatch&&(a=!0,s.componentDidCatch(e)),a)return f(s.__E=s)}catch(t){e=t}throw e}},p.prototype.setState=function(e,t){var s;s=this.__s!==this.state?this.__s:this.__s=o({},this.state),"function"==typeof e&&(e=e(s,this.props)),e&&o(s,e),null!=e&&this.__v&&(t&&this.__h.push(t),f(this))},p.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),f(this))},p.prototype.render=_,t=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v.__r=0,n=l;var B=({href:e,className:t,children:s})=>u("a",{href:e,className:t},s);const I=(e,t)=>e>t?t:e,P=(e,t)=>e>t?e:t,G=[.1,.12,.22,.24,.32,.25,.37],W={single:[0,9875,40125,85525,163300,207350,518400],married:[0,19750,80250,171050,326600,414700,622050],head:[0,14100,53700,85500,163300,207350,518400]},R={single:12400,married:24800,head:18650},M=(e,t,s)=>{let a=0,n=e-R[t]-s.k401-s.hsa;const l=W[t];for(let e=1;e<l.length;e++){const t=I(n,l[e]-l[e-1]);n-=t,a+=t*G[e]}return a+.352*n},U=(e,t)=>.05499*(e-8750-t.hsa-t.k401),H=e=>Object.values(e).reduce((e,t)=>e+t);const L=document.getElementById("retirementCalc");!function(t,s,a){var r,o,c;e.__&&e.__(t,s),o=(r=a===n)?null:a&&a.__k||s.__k,t=u(_,null,[t]),c=[],S(s,(r?s:a||s).__k=t,o||l,l,void 0!==s.ownerSVGElement,a&&!r?[a]:o?null:s.childNodes.length?i.slice.call(s.childNodes):null,c,a||l,r),C(c,t)}(u(class extends p{constructor(e){super(e),T(this,"setDesired",(e,t)=>{this.state.desiredContributions[e]=Number(t),this.setState({desiredContributions:this.state.desiredContributions})}),T(this,"setBalance",(e,t)=>{this.state.initialBalances[e]=Number(t),this.setState({initialBalances:this.state.initialBalances})}),T(this,"format",e=>Math.round(e/100)/10+"k"),this.state={income:7e4,status:"single",expenses:24e3,desiredContributions:{hsa:3550,ira:6500,k401:19500},k401match:3,initialBalances:{hsa:0,ira:0,k401:0,afterTax:0},raise:2,safeWithdrawal:3.5,effectiveGrowth:7,showGains:!1,showContributions:!1,tabShown:1}}render(){const e=((e,t,s,a,n,l,i,r,o)=>{let c=[],u=Object.assign({},o),h=H(u);for(let o=(new Date).getFullYear();h*s<i;o++){const s=M(e,l,r)+U(e,r),_=e-s-i,p={hsa:P(I(_,r.hsa),0),k401:P(I(_-r.hsa,r.k401)+e*n,0),ira:P(I(_-r.hsa-r.k401,r.ira),0),afterTax:P(_-r.hsa-r.k401-r.ira,0)},m={};Object.keys(u).forEach(e=>{m[e]=u[e]*a,u[e]+=m[e]}),Object.keys(p).forEach(e=>u[e]+=p[e]),h=H(u),c.push({year:o,income:e,tax:s,accounts:Object.assign({},u),growth:m,contributions:p,total:h}),e*=1+t}return c})(Math.max(this.state.income,1e4),this.state.raise/100,this.state.safeWithdrawal/100,this.state.effectiveGrowth/100,this.state.k401match/100,this.state.status,this.state.expenses,this.state.desiredContributions,this.state.initialBalances),t=e[e.length-1].total;let s=0;e.forEach(e=>s+=Object.values(e.contributions).reduce((e,t)=>e+t));return u("div",{id:"retirementCalc"},u("div",{className:"tabs is-centered is-boxed"},u("ul",null,[{num:1,caption:"Income"},{num:2,caption:"Contributions"},{num:3,caption:"Initial balances"},{num:4,caption:"Assumptions"}].map(e=>u("li",{key:e.num,className:this.state.tabShown===e.num?"is-active":""},u("a",{onClick:()=>this.setState({tabShown:e.num})},e.caption))))),1===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"Income"),u("div",{className:"control"},u("input",{className:"input is-success",type:"number",step:"1000",value:this.state.income,onChange:e=>this.setState({income:Number(e.target.value)})})),u("p",{className:"help"},"Your salary")),u("div",{className:"field"},u("label",{className:"label"},"Expenses"),u("div",{className:"control"},u("input",{className:"input is-danger",type:"number",step:"100",value:this.state.expenses,onChange:e=>this.setState({expenses:Number(e.target.value)})})),u("p",{className:"help"},"This is the most important variable")),u("div",{className:"field"},u("label",{className:"label"},"Status"),u("div",{className:"control select is-warning"},u("select",{onChange:e=>this.setState({status:e.target.value}),value:this.state.status},Object.keys(W).map(e=>u("option",{value:e,key:e},e)))),u("p",{className:"help"},"Your federal tax status"))),2===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"HSA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.desiredContributions.hsa,onChange:e=>this.setDesired("hsa",e.target.value)})),u("p",{className:"help"},"Desired HSA contribution")),u("div",{className:"field is-grouped"},u("div",{className:"field"},u("label",{className:"label"},"401k"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.desiredContributions.k401,onChange:e=>this.setDesired("k401",e.target.value)})),u("p",{className:"help"},"Desired 401k contribution")),u("div",{className:"field"},u("label",{className:"label"},"401k Match"),u("div",{className:"control has-icons-right",style:{width:"7rem"}},u("input",{className:"input is-primary",type:"number",step:"1",value:this.state.k401match,onChange:e=>this.setState({k401match:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},"Employer's match"))),u("div",{className:"field"},u("label",{className:"label"},"IRA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.desiredContributions.ira,onChange:e=>this.setDesired("ira",e.target.value)})),u("p",{className:"help"},"Desired IRA contribution"))),3===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"HSA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.hsa,onChange:e=>this.setBalance("hsa",e.target.value)})),u("p",{className:"help"},"Initial HSA balance")),u("div",{className:"field"},u("label",{className:"label"},"401k"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.k401,onChange:e=>this.setBalance("k401",e.target.value)})),u("p",{className:"help"},"Initial 401k balance")),u("div",{className:"field"},u("label",{className:"label"},"IRA"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.ira,onChange:e=>this.setBalance("ira",e.target.value)})),u("p",{className:"help"},"Initial IRA balance")),u("div",{className:"field"},u("label",{className:"label"},"After tax"),u("div",{className:"control"},u("input",{className:"input is-primary",type:"number",step:"100",value:this.state.initialBalances.afterTax,onChange:e=>this.setBalance("afterTax",e.target.value)})),u("p",{className:"help"},"Initial after tax accounts balance"))),4===this.state.tabShown&&u("div",{className:"field-body"},u("div",{className:"field"},u("label",{className:"label"},"Safe Withdrawal Rate"),u("div",{className:"control has-icons-right"},u("input",{className:"input is-primary",type:"number",step:"0.25",value:this.state.safeWithdrawal,onChange:e=>this.setState({safeWithdrawal:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},u(B,{href:"https://www.madfientist.com/safe-withdrawal-rate/"},"Nest Egg * Safe Withdrawal > Expenses"))),u("div",{className:"field"},u("label",{className:"label"},"Effective Growth Rate"),u("div",{className:"control has-icons-right"},u("input",{className:"input is-primary",type:"number",step:"0.5",value:this.state.effectiveGrowth,onChange:e=>this.setState({effectiveGrowth:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},u(B,{href:"https://www.investopedia.com/ask/answers/042415/what-average-annual-return-sp-500.asp"},"Average ","S&P"," 500 Growth")," -",u(B,{href:"https://tradingeconomics.com/united-states/inflation-cpi"}," Inflation"))),u("div",{className:"field"},u("label",{className:"label"},"Raise Rate"),u("div",{className:"control has-icons-right"},u("input",{className:"input is-primary",type:"number",step:"0.5",value:this.state.raise,onChange:e=>this.setState({raise:Number(e.target.value)})}),u("span",{className:"icon is-right is-centered"},u("i",null,"%"))),u("p",{className:"help"},"How fast you progress in your career"))),u("hr",null),u("table",{className:"table is-narrow is-fullwidth is-striped"},u("thead",null,u("tr",null,u("th",null,"Year"),u("th",null,"Income"),u("th",null,"Tax"),u("th",null,"HSA"),u("th",null,"401k"),u("th",null,"IRA"),u("th",null,"After Tax"),u("th",null,"Nest Egg"))),u("tbody",null,e.map(e=>u("tr",{key:e.year},u("td",null,e.year),u("td",null,this.format(e.income)),u("td",null,this.format(e.tax)),u("td",null,this.format(e.accounts.hsa),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.hsa)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.hsa))),u("td",null,this.format(e.accounts.k401),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.k401)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.k401))),u("td",null,this.format(e.accounts.ira),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.ira)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.ira))),u("td",null,this.format(e.accounts.afterTax),this.state.showContributions&&u("span",{className:"tag is-success"},"+",this.format(e.contributions.afterTax)),this.state.showGains&&u("span",{className:"tag is-primary"},"+",this.format(e.growth.afterTax))),u("td",null,this.format(e.total)))))),u("div",{className:"field is-horizontal"},u("div",{className:"control"},u("label",{className:"checkbox"},u("input",{type:"checkbox",checked:this.state.showGains,onChange:e=>this.setState({showGains:e.target.checked})}),"Show gains")),u("div",{className:"control",style:{marginLeft:"1rem"}},u("label",{className:"checkbox"},u("input",{type:"checkbox",checked:this.state.showContributions,onChange:e=>this.setState({showContributions:e.target.checked})}),"Show contributions"))),u("p",null,u("b",null,e.length)," years to retirement / ",u("b",null,this.format(t*this.state.safeWithdrawal/100))," withdrawable per year / ",u("b",null,this.format(s))," total contributions"))}}),L,L)}();