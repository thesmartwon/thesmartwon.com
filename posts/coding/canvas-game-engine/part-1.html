<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>&lt;Canvas&gt; Game Engine: Part 1</title><link rel="stylesheet" type="text/css" href="/main-1ca4f.css" /><link rel="shortcut icon" href="/favicon.png" /><link rel="manifest" href="/manifest.webmanifest" /><meta name="theme-color" content="#00D1B2" /></head><body><div class="container"><div class="column is-8 is-offset-2"><nav class="breadcrumb is-marginless is-centered" aria-label="breadcrumbs"><ul><li class><a href="/">Home</a></li><li class><a href="/posts">Posts</a></li><li class><a href="/posts/coding">Coding</a></li><li class><a href="/posts/coding/canvas-game-engine">Canvas Game Engine</a></li><li class="is-active"><a href="/posts/coding/canvas-game-engine/part-1">Part 1</a></li></ul></nav><div class="section titles-section"><h1 class="title is-2">&lt;Canvas&gt; Game Engine: Part 1</h1><span class="has-text-grey"><time dateTime="2019-07-21">July 21, 2019</time> Â· 1 min read</span></div><div id="content" class="content is-medium"><h1>Why <inlineCode>&lt;Canvas&gt;</inlineCode>?</h1><p>AAA titles like Fallout and Civilization V are usually usually written in low-level languages like C++ so they can directly access hardware (ie a GPU) to provide the best possible performance and graphics. However, don't count out browser-based games written in Javascript! Javascript might many steps removed from C++, but it can play games in nearly any browser and be easily turned into phone or native apps. Plus you can easily host it on a website to share it with friends!</p><h2>Disclaimer</h2><p>I assume you have a little prior JS knowledge. This tutorial will only setup Webpack.</p><h1>Step 1</h1><p>First, we need to create a new node project (we'll need some dependencies). My completed project is <a href="github.com/thesmartwon/canvasgame">here</a> if you want to follow along, and <a>the first commit</a> maps to step 1.</p><pre><code class="language-sh">mkdir canvasgame &amp;&amp; cd canvasgame &amp;&amp; npm init
</code></pre><p>Let's use Webpack to bundle our JS. This way we can split up our JS files and get live reloading in the browser for free. Webpack has some bare minimum config we need to take care of to get up and running, so let's do that.</p><pre><code class="language-sh">npm i -D webpack webpack-cli webpack-dev-server clean-webpack-plugin html-webpack-plugin
</code></pre><p>This is what your <inlineCode>webpack.config.js</inlineCode> could look like.</p><pre><code class="language-js">const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const { CleanWebpackPlugin } = require('clean-webpack-plugin');

module.exports = {
    mode: 'development',
    entry: {
        app: './src/index.js'
    },
    devtool: 'inline-source-map',
  devServer: {
    contentBase: './dist'
  },
    plugins: [
        // new CleanWebpackPlugin(['dist/*']) for &lt; v2 versions of CleanWebpackPlugin
        new CleanWebpackPlugin(),
        new HtmlWebpackPlugin({
            template: './src/index.html'
        })
    ],
    output: {
        filename: '[name].bundle.js',
        path: path.resolve(__dirname, 'dist')
    }
};
</code></pre><p>We'll need a dummy <inlineCode>index.js</inlineCode> for now.</p><pre><code class="language-js">// Grab the canvas and thing we draw on
const canvas = document.getElementById('gameCanvas');
const context = canvas.getContext('2d');

// Draw a black square on the whole canvas
context.fillStyle = &quot;black&quot;;
context.fillRect(0, 0, canvas.width, canvas.height);
</code></pre><p>And an <inlineCode>index.html</inlineCode> template.</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;A Canvas Game&lt;/title&gt;
        &lt;meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no' /&gt;
        &lt;style&gt;
            body {
                    margin: 0;
                    overflow: hidden;
            }
            canvas {
                position: absolute;
                top: 0px;
                left: 0px;
            }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;canvas id=&quot;gameCanvas&quot;&gt;
            &lt;h1&gt;This game doesn't work without an HTML canvas :(&lt;/h1&gt;
        &lt;/canvas&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>Add some scripts to pull up your webserver to your <inlineCode>package.json</inlineCode>:</p><pre><code class="language-json">&quot;scripts&quot;: {
  &quot;build&quot;: &quot;webpack&quot;,
  &quot;start&quot;: &quot;webpack-dev-server --open&quot;
},
</code></pre><p>And now you can <inlineCode>npm start</inlineCode> and webpack will pull up your web browser and draw a black box over the canvas like this:</p><canvas id="gameCanvas"><h1>This game doesn't work without an HTML canvas :(</h1></canvas><br />It's not much yet, but it'll become something soon... You're ready for <a href="./part-2">Part 2</a>!</div><div class="has-text-centered"><a href="#">Back to top</a> / <a href="/posts">View all posts</a></div></div></div><script src="part-1-21f35.js"></script></body></html>